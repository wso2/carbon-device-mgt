{{!
  Copyright (c) 2016, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.

  WSO2 Inc. licenses this file to you under the Apache License,
  Version 2.0 (the "License"); you may not use this file except
  in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing,
  software distributed under the License is distributed on an
  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, either express or implied. See the License for the
  specific language governing permissions and limitations
  under the License.
}}
{{#zone "content"}}
{{css "css/configuration.css"}}
    <div class="submenu detail_sub_headings">
        <ul>
            <li><a class="active" href="{{@app.context}}/platform-configuration">Platform </a>
            </li>
            <!-- todo change the permission and get the related permission -->
            <li><a href="{{@app.context}}/certificates"> Certificate </a>
            </li>
        </ul>   
    </div>  


    {{#if isAuthorized}}
    <div id="loading-content" class="col-centered">
        <i class="fw fw-settings fw-spin fw-2x"></i>
        Loading Configurations. . .
        <br>
    </div>
    <div class="row">
        <div class="col-md-12">
            <!-- content -->
            <div id="config-save-form" class="wr-content">
                <br>

                <!-- <h1 class="page-sub-title">
                    Platform Configurations
                </h1>
                <br>
                General and Platform Specific Server Settings for the Tenant
                <br>
                <br> -->

                <div class="wr-advance-operations" style="margin-bottom:0px;">
                    <div class="row no-gutter detail_box">
                        <div class="wr-hidden-operations-nav col-lg-4 left-side">
                            <a id="generalConfigLink" href="javascript:void(0)" onclick="showAdvanceOperation('general', this)" class="selected">
                                <span class="wr-hidden-operations-icon fw-stack">
                                    <i class="fw fw-settings fw-stack-2x"></i>
                                    <span class="fw-stack fw-move-right fw-move-bottom">
                                        <i class="fw fw-circle fw-stack-2x fw-stroke fw-inverse"></i>
                                        <i class="fw fw-circle fw-stack-2x"></i>
                                        <i class="fw fw-mobile fw-stack-1x fw-inverse"></i>
                                    </span>
                                </span>
                                General 
                            </a>
                            {{#each deviceTypes}}
                                <a id="{{name}}ConfigLink" href="javascript:void(0)" onclick="showAdvanceOperation('{{name}}', this)">
                                    <span class="wr-hidden-operations-icon fw-stack">
                                        <i class="fw fw-settings fw-stack-2x"></i>
                                        <span class="fw-stack fw-move-right fw-move-bottom">
                                            <i class="fw fw-circle fw-stack-2x fw-stroke fw-inverse"></i>
                                            <i class="fw fw-circle fw-stack-2x"></i>
                                            <i class="fw fw-{{name}} fw-stack-1x fw-inverse"></i>
                                        </span>
                                    </span>
                                    {{label}} 
                                </a>
                            {{/each}}
                        </div>

                        <div class="wr-hidden-operations-content " style="height:73vh;">
                            <!-- general -->
                            <div class="wr-hidden-operation" data-operation="general" style="display: block">
                                <div class="panel panel-default">
                                    {{!--<div id="general-config-heading" class="panel-heading" role="tab">
                                        <h2 class="sub-title panel-title" style="padding: 20px 20px 0px;">
                                            Policy Monitoring
                                        </h2>
                                    </div>--}}
                                    <div id="email-config-body" class="panel-collapse panel-body"
                                         role="tabpanel">
                                        <div id="email-config-error-msg"
                                             class="alert alert-danger hidden" role="alert">
                                            <i class="icon fw fw-error"></i><span></span>
                                        </div>
                                        <div class="">
                                            <div class="form_field">
                                            <label class="wr-input-label" for="email-config-host">
                                                Monitoring Frequency*
                                                    <span class="helper" title="SMTP Server Host">
                                                        <!--<span class="wr-help-tip glyphicon glyphicon-question-sign"></span>-->
                                                    </span>
                                                <br>
                                                (Second)
                                            </label>
                                            <input id="monitoring-config-frequency" type="text"
                                                   class="form-control"
                                                   placeholder="[ Required Field ]">
                                            </div>
                                            
                                        </div>
                                        
                                        <div class="wr-input-control wr-btn-grp">
                                            
                                        </div>
                                    </div>
                                    <hr>
                                    <br>
                                    <button id="save-general-btn" class="wr-btn" style="float:right;">Save</button>
                                </div>
                            </div>
                            <!-- general-->
                            {{#each deviceTypes}}
                                <div class="wr-hidden-operation" data-operation="{{name}}" style="display: none;">
                                    {{unit unitName}}
                                </div>
                            {{/each}}

                        </div>
                    </div>
                </div>
            </div>

            <div id="record-created-msg" class="wr-content hidden">
                <div class="wr-form detail_box">
                    <p class="page-sub-title">Configuration was saved successfully.</p>
                    <br>
                    <br>Please click <b>"Go back to configurations"</b>, if you wish to save another
                        configuration or click
                    <b>"Exit"</b> to complete the process and go back to the dashboard.
                    <hr/>
                    <br>
                    <button class="wr-btn"
                            onclick="window.location.href='{{@app.context}}/platform-configuration'">Go back to configurations</button>
                    <button class="wr-btn" onclick="window.location.href='{{@app.context}}'">Exit</button>
                </div>
            </div>
            <!-- /content -->
        </div>
    </div>
    {{else}}
        <h1 class="page-sub-title">
            Permission Denied
        </h1>
        <br>
        You not authorized to enter General and Platform Specific Server Setting Management Section.
        <br>
    {{/if}}
{{/zone}}
{{#zone "bottomJs"}}
    {{js "js/platform-configuration.js"}}
{{/zone}}
